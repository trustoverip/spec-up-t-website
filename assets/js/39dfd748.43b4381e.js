"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[4342],{15026(e,n,s){s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"developer-documentation/publishing-to-github-and-npm","title":"Publishing to GitHub and npm","description":"This guide describes the recommended workflow for publishing packages to GitHub and npm.","source":"@site/docs/developer-documentation/publishing-to-github-and-npm.md","sourceDirName":"developer-documentation","slug":"/developer-documentation/publishing-to-github-and-npm","permalink":"/spec-up-t-website/docs/developer-documentation/publishing-to-github-and-npm","draft":false,"unlisted":false,"editUrl":"https://github.com/trustoverip/spec-up-t-website/tree/main/docs/developer-documentation/publishing-to-github-and-npm.md","tags":[],"version":"current","lastUpdatedBy":"Kor Dwarshuis","lastUpdatedAt":1772124029000,"sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"GitHub Repositories","permalink":"/spec-up-t-website/docs/developer-documentation/github-repositories"},"next":{"title":"Web of Repo\'s","permalink":"/spec-up-t-website/docs/developer-documentation/web-of-repos"}}');var t=s(74848),r=s(28453);const l={sidebar_position:2},a="Publishing to GitHub and npm",o={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Commit Your Changes",id:"commit-your-changes",level:2},{value:"Understanding Version Numbers",id:"understanding-version-numbers",level:2},{value:"Version Command Syntax",id:"version-command-syntax",level:3},{value:"Beta Release Workflow",id:"beta-release-workflow",level:2},{value:"How the Beta Release Works",id:"how-the-beta-release-works",level:3},{value:"Stable Release Workflow",id:"stable-release-workflow",level:2},{value:"How the Stable Release Works",id:"how-the-stable-release-works",level:3},{value:"Installing Versions",id:"installing-versions",level:2},{value:"Installing the Latest Stable Version",id:"installing-the-latest-stable-version",level:3},{value:"Installing a Beta Version",id:"installing-a-beta-version",level:3},{value:"Installing a Specific Version",id:"installing-a-specific-version",level:3},{value:"Checking Available Versions",id:"checking-available-versions",level:3},{value:"Updating an Installed Package",id:"updating-an-installed-package",level:3},{value:"Summary",id:"summary",level:2},{value:"Additional Resources",id:"additional-resources",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"publishing-to-github-and-npm",children:"Publishing to GitHub and npm"})}),"\n",(0,t.jsx)(n.p,{children:"This guide describes the recommended workflow for publishing packages to GitHub and npm."}),"\n",(0,t.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsx)(n.p,{children:"Before publishing, ensure you have:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Authentication with npm: Run ",(0,t.jsx)(n.code,{children:"npm login"})," if not already authenticated"]}),"\n",(0,t.jsxs)(n.li,{children:["Your changes merged into the main branch (or ",(0,t.jsx)(n.code,{children:"master"})," depending on your repository)"]}),"\n",(0,t.jsx)(n.li,{children:"All tests passing and changes committed"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"commit-your-changes",children:"Commit Your Changes"}),"\n",(0,t.jsx)(n.p,{children:"Make your changes and commit them:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'git add .\ngit commit -m "Add new feature"\n'})}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["It's generally best to run ",(0,t.jsx)(n.code,{children:"npm version"})," after merging your feature branch into the main branch. This ensures that the version bump and tag are applied to the final state of the code that will be released."]})}),"\n",(0,t.jsx)(n.h2,{id:"understanding-version-numbers",children:"Understanding Version Numbers"}),"\n",(0,t.jsxs)(n.p,{children:["Choose the appropriate version number according to ",(0,t.jsx)(n.a,{href:"https://semver.org/",children:"Semantic Versioning (SemVer)"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Patch"})," (e.g., ",(0,t.jsx)(n.code,{children:"1.0.0"})," \u2192 ",(0,t.jsx)(n.code,{children:"1.0.1"}),"): Bug fixes and minor changes"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Minor"})," (e.g., ",(0,t.jsx)(n.code,{children:"1.0.0"})," \u2192 ",(0,t.jsx)(n.code,{children:"1.1.0"}),"): New features, backward compatible"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Major"})," (e.g., ",(0,t.jsx)(n.code,{children:"1.0.0"})," \u2192 ",(0,t.jsx)(n.code,{children:"2.0.0"}),"): Breaking changes"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Pre-release"})," (e.g., ",(0,t.jsx)(n.code,{children:"1.0.0-beta.1"}),"): Beta or alpha versions"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"version-command-syntax",children:"Version Command Syntax"}),"\n",(0,t.jsx)(n.p,{children:"The basic command structure is:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'npm version <newversion> -m "Bump version to %s"\n'})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"%s"})," in the command is a placeholder that npm automatically replaces with the new version number. For example:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'npm version 1.1.0 -m "Bump version to %s"\n'})}),"\n",(0,t.jsx)(n.p,{children:"This command automatically:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Updates ",(0,t.jsx)(n.code,{children:"package.json"})," to the new version"]}),"\n",(0,t.jsx)(n.li,{children:"Creates a Git commit with your message"}),"\n",(0,t.jsxs)(n.li,{children:["Creates a Git tag matching the version (e.g., ",(0,t.jsx)(n.code,{children:"v1.1.0"}),")"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"beta-release-workflow",children:"Beta Release Workflow"}),"\n",(0,t.jsx)(n.p,{children:"Use this workflow when publishing a pre-release version for testing:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'npm version 1.0.0-beta.1 -m "Bump version to %s"\ngit push origin main --tags\nnpm publish --tag beta\n'})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["Replace ",(0,t.jsx)(n.code,{children:"main"})," with ",(0,t.jsx)(n.code,{children:"master"})," if your repository uses the older branch naming convention."]})}),"\n",(0,t.jsx)(n.h3,{id:"how-the-beta-release-works",children:"How the Beta Release Works"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:'npm version 1.0.0-beta.1 -m "Bump version to %s"'})})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Updates ",(0,t.jsx)(n.code,{children:"package.json"})," to ",(0,t.jsx)(n.code,{children:'"version": "1.0.0-beta.1"'})]}),"\n",(0,t.jsxs)(n.li,{children:["Creates a Git commit with the message ",(0,t.jsx)(n.code,{children:'"Bump version to 1.0.0-beta.1"'}),", including changes to ",(0,t.jsx)(n.code,{children:"package.json"})," (and ",(0,t.jsx)(n.code,{children:"package-lock.json"})," if present)"]}),"\n",(0,t.jsxs)(n.li,{children:["Creates a Git tag ",(0,t.jsx)(n.code,{children:"v1.0.0-beta.1"})," pointing to this commit"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Standard Compliance"}),": Uses a Semantic Versioning (SemVer) pre-release identifier (",(0,t.jsx)(n.code,{children:"-beta.1"}),"), which is the standard for beta releases"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"git push origin main --tags"})})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Pushes the commit and the Git tag (",(0,t.jsx)(n.code,{children:"v1.0.0-beta.1"}),") to the remote repository"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Standard Compliance"}),": Ensures the version history and tags are synchronized with the remote repository, a common practice for release tracking"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"npm publish --tag beta"})})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Publishes the package version ",(0,t.jsx)(n.code,{children:"1.0.0-beta.1"})," to the npm registry with the ",(0,t.jsx)(n.code,{children:"beta"})," tag"]}),"\n",(0,t.jsxs)(n.li,{children:["Ensures ",(0,t.jsx)(n.code,{children:"npm install <package>"})," does ",(0,t.jsx)(n.strong,{children:"not"})," install this beta version by default (it installs the ",(0,t.jsx)(n.code,{children:"latest"})," tagged version instead)"]}),"\n",(0,t.jsxs)(n.li,{children:["Users can install the beta with ",(0,t.jsx)(n.code,{children:"npm install <package>@beta"})," or ",(0,t.jsx)(n.code,{children:"npm install <package>@1.0.0-beta.1"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Standard Compliance"}),": Using a custom tag like ",(0,t.jsx)(n.code,{children:"beta"})," for pre-release versions is the recommended npm practice to avoid breaking users who rely on stable versions"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Result"}),": Users get the stable version with ",(0,t.jsx)(n.code,{children:"npm install <package>"}),", and beta testers can opt in with ",(0,t.jsx)(n.code,{children:"npm install <package>@beta"}),". This is fully aligned with npm and Git best practices."]}),"\n",(0,t.jsx)(n.h2,{id:"stable-release-workflow",children:"Stable Release Workflow"}),"\n",(0,t.jsx)(n.p,{children:"Use this workflow when publishing a stable version:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'npm version 1.0.0 -m "Bump version to %s"\ngit push origin main --tags\nnpm publish\n'})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["Replace ",(0,t.jsx)(n.code,{children:"main"})," with ",(0,t.jsx)(n.code,{children:"master"})," if your repository uses the older branch naming convention."]})}),"\n",(0,t.jsx)(n.h3,{id:"how-the-stable-release-works",children:"How the Stable Release Works"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:'npm version 1.0.0 -m "Bump version to %s"'})})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Updates ",(0,t.jsx)(n.code,{children:"package.json"})," to ",(0,t.jsx)(n.code,{children:'"version": "1.0.0"'})]}),"\n",(0,t.jsxs)(n.li,{children:["Creates a Git commit with the message ",(0,t.jsx)(n.code,{children:'"Bump version to 1.0.0"'})]}),"\n",(0,t.jsxs)(n.li,{children:["Creates a Git tag ",(0,t.jsx)(n.code,{children:"v1.0.0"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Standard Compliance"}),": Follows SemVer for stable releases and creates a clear version marker in Git"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"git push origin main --tags"})})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Pushes the commit and tag (",(0,t.jsx)(n.code,{children:"v1.0.0"}),") to the remote repository"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Standard Compliance"}),": Keeps the remote repository in sync, standard for release workflows"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"npm publish"})})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Publishes version ",(0,t.jsx)(n.code,{children:"1.0.0"})," to the npm registry with the default ",(0,t.jsx)(n.code,{children:"latest"})," tag"]}),"\n",(0,t.jsxs)(n.li,{children:["Makes this version the default for ",(0,t.jsx)(n.code,{children:"npm install <package>"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Standard Compliance"}),": Assigning the ",(0,t.jsx)(n.code,{children:"latest"})," tag to stable releases is the npm standard, ensuring users get the latest stable version by default"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Result"}),": The stable version ",(0,t.jsx)(n.code,{children:"1.0.0"})," is installed by default with ",(0,t.jsx)(n.code,{children:"npm install <package>"}),", following npm's expected behavior."]}),"\n",(0,t.jsx)(n.h2,{id:"installing-versions",children:"Installing Versions"}),"\n",(0,t.jsx)(n.h3,{id:"installing-the-latest-stable-version",children:"Installing the Latest Stable Version"}),"\n",(0,t.jsx)(n.p,{children:"To install the latest stable version (default behavior):"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install <package>\n"})}),"\n",(0,t.jsxs)(n.p,{children:["This installs the version tagged as ",(0,t.jsx)(n.code,{children:"latest"})," on the npm registry."]}),"\n",(0,t.jsx)(n.h3,{id:"installing-a-beta-version",children:"Installing a Beta Version"}),"\n",(0,t.jsx)(n.p,{children:"To install the latest beta version:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install <package>@beta\n"})}),"\n",(0,t.jsxs)(n.p,{children:["This installs the latest version tagged as ",(0,t.jsx)(n.code,{children:"beta"})," on the npm registry (e.g., ",(0,t.jsx)(n.code,{children:"1.0.0-beta.1"}),")."]}),"\n",(0,t.jsx)(n.h3,{id:"installing-a-specific-version",children:"Installing a Specific Version"}),"\n",(0,t.jsx)(n.p,{children:"To install a specific version by exact version number:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install <package>@1.0.0\nnpm install <package>@1.0.0-beta.1\n"})}),"\n",(0,t.jsx)(n.h3,{id:"checking-available-versions",children:"Checking Available Versions"}),"\n",(0,t.jsx)(n.p,{children:"To list all available versions and their tags:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm view <package> versions\nnpm dist-tag ls <package>\n"})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"npm dist-tag ls"})," command shows which tags (like ",(0,t.jsx)(n.code,{children:"latest"})," and ",(0,t.jsx)(n.code,{children:"beta"}),") point to which versions, helpful for understanding what's available."]}),"\n",(0,t.jsx)(n.h3,{id:"updating-an-installed-package",children:"Updating an Installed Package"}),"\n",(0,t.jsx)(n.p,{children:"If you already have the package installed and want to update to a different version:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm update <package>                 # Updates to the latest minor/patch of current major version\nnpm install <package>@1.0.0          # Installs a specific version\nnpm install <package>@beta           # Updates to the latest beta version\n"})}),"\n",(0,t.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Beta Workflow"}),": Using ",(0,t.jsx)(n.code,{children:"npm publish --tag beta"})," ensures beta versions (e.g., ",(0,t.jsx)(n.code,{children:"1.0.0-beta.1"}),") are available only to users who explicitly request them, protecting users who rely on the ",(0,t.jsx)(n.code,{children:"latest"})," stable version"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Stable Workflow"}),": Publishing without a tag automatically uses the ",(0,t.jsx)(n.code,{children:"latest"})," tag, making the version available to all users by default"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Git Integration"}),": Both workflows use ",(0,t.jsx)(n.code,{children:"npm version"})," to synchronize ",(0,t.jsx)(n.code,{children:"package.json"})," with Git commits and tags, which is a standard practice for Node.js projects"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"SemVer Compliance"}),": Using ",(0,t.jsx)(n.code,{children:"1.0.0-beta.1"})," for betas and ",(0,t.jsx)(n.code,{children:"1.0.0"})," for stable releases adheres to Semantic Versioning standards"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"User Experience"}),": The distinction between ",(0,t.jsx)(n.code,{children:"latest"})," (stable) and ",(0,t.jsx)(n.code,{children:"beta"})," tags ensures a clear separation, which is a best practice for package maintainers"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://semver.org/",children:"Semantic Versioning (SemVer)"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://docs.npmjs.com/cli/v9/commands/npm-version",children:"npm version documentation"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://docs.npmjs.com/cli/v9/commands/npm-publish",children:"npm publish documentation"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://docs.npmjs.com/cli/v9/commands/npm-dist-tag",children:"npm dist-tag documentation"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},28453(e,n,s){s.d(n,{R:()=>l,x:()=>a});var i=s(96540);const t={},r=i.createContext(t);function l(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);